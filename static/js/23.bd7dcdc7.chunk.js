(this["webpackJsonpecommerce-logistic"]=this["webpackJsonpecommerce-logistic"]||[]).push([[23],{313:function(e,t,n){"use strict";var i=n(75),r=n.n(i),a=("production"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STAGE?{apiUrl:"https://ysosy-backend.herokuapp.com/api/"}:(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STAGE,{apiUrl:"https://ysosy-backend.herokuapp.com/api/",aadharTestRequest:"https://test.zoop.one/in/identity/okyc/otp/request",aadharLiveRequest:"https://live.zoop.one/in/identity/okyc/otp/request",aadharOtpVerifyRequest:"https://test.zoop.one/in/identity/okyc/otp/verify"})).apiUrl,c={"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},o={register:function(e){return r.a.post("".concat(a,"vendorLogReg/signup"),e)},vendorLogin:function(e){return r.a.post("".concat(a,"vendorLogReg/login"),e)},vendorForgotPassword:function(e){return r.a.post("".concat(a,"vendorLogReg/forgot-password"),e)},setNewPassword:function(e){return r.a.post("".concat(a,"vendorLogReg/set-password"),e)},getVendorProfileDetail:function(){return r.a.get("".concat(a,"vendorLogReg/loggedVendor"))},vendorProfileUpdate:function(e){return r.a.put("".concat(a,"vendors/editVendorProfile"),e)},getAllShippingOrderData:function(){return r.a.get("".concat(a,"shippingOrders/all"))},getshippingOrderViewDetails:function(e){return r.a.get("".concat(a,"shippingOrders/getShippingOrderById/").concat(e))},checkPinCodes:function(e){return r.a.get("https://api.postalpincode.in/pincode/".concat(e),{headers:c})},createShippingOrder:function(e){return r.a.post("".concat(a,"shippingOrders/new"),e)},cloneShippingOrder:function(e){return r.a.put("".concat(a,"shippingOrders/cloneShippingOrder/").concat(e))},cancelShippingOrder:function(e){return r.a.put("".concat(a,"shippingOrders/cancelShippingOrder/").concat(e))},updateShippingOrder:function(e,t){return r.a.put("".concat(a,"shippingOrders/editShippingOrder/").concat(e),t)}};t.a=o},558:function(e,t,n){"use strict";n.r(t);var i=n(4),r=n(11),a=n(91),c=n(13),o=n(64),s=n.n(o),d=n(0),l=n(18),u=n(90),p=n(290),h=n(296),j=n(352),b=n(545),g=n(546),O=n(547),f=n(548),m=n(549),v=n(373),x=n(550),y=n(284),k=n(283),_=n(87),S=n(297),C=n(374),A=n(309),P=n(287),D=n(280),T=n(313),w=n(320),E=n.n(w),N=n(427),I=n.n(N),R=n(428),W=n.n(R),L=n(429),H=n.n(L),B=n(423),F=n(123),z=n(579),G=n(581),U=n(580),V=n(559),q=n(1);t.default=function(){var e=Object(l.g)(),t=Object(d.useState)([]),n=Object(c.a)(t,2),o=n[0],w=n[1],N=Object(d.useState)([]),R=Object(c.a)(N,2),L=R[0],K=R[1],M=Object(d.useState)([]),Y=Object(c.a)(M,2),X=Y[0],J=Y[1],Z=Object(d.useState)([]),Q=Object(c.a)(Z,2),$=Q[0],ee=Q[1],te=Object(d.useState)([]),ne=Object(c.a)(te,2),ie=ne[0],re=ne[1],ae=Object(d.useState)([]),ce=Object(c.a)(ae,2),oe=ce[0],se=ce[1],de=Object(d.useRef)(null);Object(d.useEffect)((function(){le()}),[]);var le=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.getAllShippingOrderData();case 3:t=e.sent,n=[],i=[],J(t.data),t.data.forEach((function(e){var t,r,a,c,o,s,d=[],l=0;e.orderProducts.forEach((function(e){d.push(e.product),i.push(e.quantity*Number(e.amount)),l=i.reduce((function(e,t){return e+t}),0)})),n.push({channel:null!==e&&void 0!==e&&e.channel?null===e||void 0===e?void 0:e.channel:"custom",orderId:null===e||void 0===e?void 0:e.orderId,date:E()(null===e||void 0===e?void 0:e.createdAt).format("MMM D, YYYY"),product:d.join(", "),payment:l,method:null===e||void 0===e?void 0:e.orderType,customer:null!==e&&void 0!==e&&e.shippingAddress?(null===e||void 0===e||null===(t=e.shippingAddress)||void 0===t?void 0:t.firstName)+(null===e||void 0===e||null===(r=e.shippingAddress)||void 0===r?void 0:r.lastName):(null===e||void 0===e||null===(a=e.shippingAddress)||void 0===a?void 0:a.firstName)+(null===e||void 0===e||null===(c=e.shippingAddress)||void 0===c?void 0:c.lastName),zipcode:null!==e&&void 0!==e&&e.shippingAddress?null===e||void 0===e||null===(o=e.shippingAddress)||void 0===o?void 0:o.pincode:null===e||void 0===e||null===(s=e.shippingAddress)||void 0===s?void 0:s.pincode,weight:null===e||void 0===e?void 0:e.weightFd,ivrStatus:null===e||void 0===e?void 0:e.ivr_status,tags:null===e||void 0===e?void 0:e.tags,status:null===e||void 0===e?void 0:e.status,_id:null===e||void 0===e?void 0:e._id})})),w(n),K(n),se(n),ue(n),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),Object(F.notifier)({type:"error",message:e.t0.error,autoDismissTimeout:5e3});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),ue=function(e){var t=[];t.all=e.length,t.booked=e.filter((function(e){return"Booked"===e.status})).length,t.ship=e.filter((function(e){return"Ship"===e.status})).length,t.pendingpickup=e.filter((function(e){return"pendingpickup"===e.status})).length,t.intransit=e.filter((function(e){return"intransit"===e.status})).length,t.outfordelivery=e.filter((function(e){return"outfordelivery"===e.status})).length,t.Delivered=e.filter((function(e){return"Delivered"===e.status})).length,t.Cancelled=e.filter((function(e){return"Cancelled"===e.status})).length,ee(t)},pe=function(e){"all"===e?(w(L),se(L)):(w(L.filter((function(t){return t.status===e}))),se(L.filter((function(t){return t.status===e}))))},he=Object(d.useState)(!1),je=Object(c.a)(he,2),be=je[0],ge=je[1],Oe=Object(d.useState)("paper"),fe=Object(c.a)(Oe,2),me=fe[0],ve=fe[1],xe=Object(d.useState)(""),ye=Object(c.a)(xe,2),ke=ye[0],_e=ye[1],Se=[{id:"1",name:"Nayan Patil",isDefault:!0},{id:"2",name:"Nitin Patil",isDefault:!1}],Ce=[{id:"1",name:"Nayan Patil",isDefault:!0},{id:"2",name:"Nitin Patil",isDefault:!1}],Ae=Object(d.useState)({orderId:"",wareHousePickupAddress:"",rtoWareHouseAddress:"",essentialItem:!1,dangerousGood:!1,courierPartner:""}),Pe=Object(c.a)(Ae,2),De=Pe[0],Te=Pe[1],we=De.wareHousePickupAddress,Ee=De.rtoWareHouseAddress,Ne=De.essentialItem,Ie=De.dangerousGood,Re=De.courierPartner,We=function(){var e=Se.filter((function(e){return!0===e.isDefault})),t=Ce.filter((function(e){return!0===e.isDefault}));Te(Object(r.a)(Object(r.a)({},De),{},{wareHousePickupAddress:e[0].id,rtoWareHouseAddress:t[0].id}))},Le=[{id:"1",name:"DTDC Air (\u20b9117)"},{id:"2",name:"DTDC Premium (\u20b9108.2)"},{id:"3",name:"Xpressbees Surface (\u20b9108.74)"},{id:"4",name:"Xpressbees 1 K.G (\u20b9131)"}],He=function(e){e.target.checked&&"essentialItem"===e.target.name&&Te(Object(r.a)(Object(r.a)({},De),{},Object(i.a)({},e.target.name,!0))),e.target.checked&&"dangerousGood"===e.target.name&&Te(Object(r.a)(Object(r.a)({},De),{},Object(i.a)({},e.target.name,!0)))};return Object(q.jsxs)(u.a,{title:"Order Lists",children:[Object(q.jsxs)(p.a,{sx:{width:"100%"},children:[Object(q.jsxs)("div",{style:{marginBottom:16,float:"right"},children:[Object(q.jsxs)(h.a,{variant:"outlined",onClick:function(){try{setTimeout((function(){de.current.link.click(),Object(F.notifier)({type:"success",message:"File Download Successfully",autoDismissTimeout:5e3})}))}catch(e){console.error(e.message),Object(F.notifier)({type:"error",message:"Something went wrong!",autoDismissTimeout:5e3})}},children:[Object(q.jsx)(I.a,{})," Export"]}),Object(q.jsx)(B.CSVLink,{headers:[{key:"channel",label:"Chaneel"},{key:"orderId",label:"Order Id"},{key:"product",label:"Product Name"},{key:"customer",label:"Customer"},{key:"zipcode",label:"Zip Code"},{key:"weight",label:"Weight"},{key:"payment",label:"Payment Amount"},{key:"method",label:"Method"},{key:"date",label:"Date"},{key:"status",label:"Status"}],filename:"shippingOrders.csv",data:oe,ref:de}),Object(q.jsxs)(h.a,{variant:"outlined",onClick:function(){window.location.reload()},children:[Object(q.jsx)(W.a,{})," Refresh"]}),Object(q.jsxs)(h.a,{variant:"outlined",onClick:function(){console.log("Import Order Data")},children:[Object(q.jsx)(I.a,{})," Import Order"]}),Object(q.jsxs)(h.a,{variant:"outlined",onClick:function(){e("/create-order")},children:[Object(q.jsx)(H.a,{})," Create Order"]})]}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)("hr",{}),Object(q.jsx)("br",{}),Object(q.jsx)("div",{style:{marginBottom:16},children:Object(q.jsxs)(j.a,{variant:"outlined","aria-label":"outlined primary button group",children:[Object(q.jsxs)(h.a,{onClick:function(){return pe("all")},children:["All Order (",$.all,")"]}),Object(q.jsxs)(h.a,{onClick:function(){return pe("Ship")},children:["Not Shipped (",$.ship,")"]}),Object(q.jsxs)(h.a,{onClick:function(){return pe("Booked")},children:["Booked (",$.booked,")"]}),Object(q.jsxs)(h.a,{onClick:function(){return pe("pendingpickup")},children:["Pending Pickup (",$.pendingpickup,")"]}),Object(q.jsxs)(h.a,{onClick:function(){return pe("intransit")},children:["In Transit (",$.intransit,")"]}),Object(q.jsxs)(h.a,{onClick:function(){return pe("outfordelivery")},children:["Out For Delivery (",$.outfordelivery,")"]}),Object(q.jsxs)(h.a,{onClick:function(){return pe("Delivered")},children:["Delivered (",$.Delivered,")"]}),Object(q.jsxs)(h.a,{onClick:function(){return pe("Cancelled")},children:["Cancelled (",$.Cancelled,")"]})]})}),Object(q.jsx)(b.a,{children:Object(q.jsxs)(g.a,{"aria-label":"customized table",children:[Object(q.jsx)(O.a,{children:Object(q.jsxs)(f.a,{children:[Object(q.jsx)(m.a,{align:"center",children:Object(q.jsx)(v.a,{indeterminate:ie.length>0&&ie.length<o.length,checked:o.length>0&&ie.length===o.length,onChange:function(e){if(e.target.checked){var t=o.map((function(e){return e._id}));re(t)}else re([])},inputProps:{"aria-label":"select all desserts"}})}),Object(q.jsx)(m.a,{align:"center",children:"Channel"}),Object(q.jsx)(m.a,{align:"center",children:"Order"}),Object(q.jsx)(m.a,{align:"center",children:"Date"}),Object(q.jsx)(m.a,{align:"center",children:"Product"}),Object(q.jsx)(m.a,{align:"center",children:"Payment"}),Object(q.jsx)(m.a,{align:"center",children:"Method"}),Object(q.jsx)(m.a,{align:"center",children:"Customer"}),Object(q.jsx)(m.a,{align:"center",children:"ZIP Code"}),Object(q.jsx)(m.a,{align:"center",children:"Weight"}),Object(q.jsx)(m.a,{align:"center",children:"Status"})]})}),Object(q.jsx)(x.a,{children:o.map((function(t,n){var i,r=(i=t._id,-1!==ie.indexOf(i)),a="enhanced-table-checkbox-".concat(n);return Object(q.jsxs)(f.a,{onClick:function(){return function(e){var t=ie.indexOf(e),n=[];-1===t?n=n.concat(ie,e):0===t?n=n.concat(ie.slice(1)):t===ie.length-1?n=n.concat(ie.slice(0,-1)):t>0&&(n=n.concat(ie.slice(0,t),ie.slice(t+1))),re(n)}(t._id)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(q.jsx)(m.a,{align:"center",children:"Cancelled"!==t.status&&"Booked"!==t.status&&Object(q.jsx)(v.a,{checked:r,inputProps:{"aria-labelledby":a}})}),Object(q.jsx)(m.a,{component:"th",scope:"row",align:"center",children:t.channel}),Object(q.jsx)(m.a,{align:"center",children:t.orderId?Object(q.jsx)(h.a,{onClick:function(){return n=t._id,void e("/order-details/".concat(n));var n},children:t.orderId}):"-"}),Object(q.jsx)(m.a,{align:"center",children:t.date}),Object(q.jsx)(m.a,{align:"center",children:t.product?t.product:"-"}),Object(q.jsx)(m.a,{align:"center",children:t.payment}),Object(q.jsx)(m.a,{align:"center",children:t.method}),Object(q.jsx)(m.a,{align:"center",children:t.customer}),Object(q.jsx)(m.a,{align:"center",children:t.zipcode}),Object(q.jsx)(m.a,{align:"center",children:t.weight}),Object(q.jsx)(m.a,{align:"center",children:"Cancelled"===t.status?Object(q.jsx)(y.a,{label:t.status,color:"primary",variant:"outlined"}):Object(q.jsx)(y.a,{label:t.status,color:"primary",variant:"outlined",onClick:function(){return e=t._id,_e(e),ge(!0),ve("paper"),void We();var e}})})]},t._id)}))})]})})]}),Object(q.jsx)(p.a,{children:Object(q.jsxs)(z.a,{open:be,onClose:function(){return ge(!1)},scroll:me,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(q.jsx)(V.a,{id:"scroll-dialog-title",style:{fontSize:"1.5em"},children:"Ship Your Package Now"}),Object(q.jsxs)(U.a,{dividers:"paper"===me,children:[Object(q.jsxs)(k.a,{style:{display:"flex",marginTop:"5%",marginBottom:"5%",width:500},children:[Object(q.jsxs)(k.a,{item:!0,xs:6,style:{marginRight:20},children:[Object(q.jsx)(_.a,{variant:"h5",children:"Pickup Warehouse"}),Object(q.jsx)(S.a,{id:"outlined-select-ordertype",select:!0,label:"Pickup Warehouse Address",name:"wareHousePickupAddress",value:we,onChange:function(e){return Te(Object(r.a)(Object(r.a)({},De),{},Object(i.a)({},e.target.name,e.target.value)))},fullWidth:!0,size:"small",margin:"normal",variant:"outlined",children:null===Se||void 0===Se?void 0:Se.map((function(e,t){return Object(q.jsxs)(C.a,{value:e.id,children:[e.name," ",!0===e.isDefault?"(Default)":""]},t+1)}))}),Object(q.jsx)(A.a,{control:Object(q.jsx)(v.a,{name:"essentialItem",checked:Ne,onChange:function(e){return He(e)}}),label:"Is essential item ?"})]}),Object(q.jsxs)(k.a,{item:!0,xs:6,children:[Object(q.jsx)(_.a,{variant:"h5",children:"RTO Warehouse"}),Object(q.jsx)(S.a,{id:"outlined-select-ordertype",select:!0,label:"RTO Warehouse",name:"rtoWareHouseAddress",value:Ee,onChange:function(e){return Te(Object(r.a)(Object(r.a)({},De),{},Object(i.a)({},e.target.name,e.target.value)))},fullWidth:!0,size:"small",margin:"normal",variant:"outlined",children:null===Ce||void 0===Ce?void 0:Ce.map((function(e,t){return Object(q.jsxs)(C.a,{value:e.id,children:[e.name," ",!0===e.isDefault?"(Default)":""]},t+1)}))}),Object(q.jsx)(A.a,{control:Object(q.jsx)(v.a,{name:"dangerousGood",checked:Ie,onChange:function(e){return He(e)}}),label:"Is dangerous good ?"})]})]}),Object(q.jsx)("hr",{}),Object(q.jsx)(k.a,{style:{display:"flex",marginTop:"5%",marginBottom:"5%",width:500},children:Object(q.jsx)(P.a,{row:!0,"aria-label":"courier-partner",value:Re,name:"courierPartner",onChange:function(e){return Te(Object(r.a)(Object(r.a)({},De),{},Object(i.a)({},e.target.name,e.target.value)))},children:null===Le||void 0===Le?void 0:Le.map((function(e,t){return Object(q.jsx)(k.a,{item:!0,xs:6,children:Object(q.jsx)(A.a,{value:e.id,control:Object(q.jsx)(D.a,{}),label:e.name})},t+1)}))})})]}),Object(q.jsxs)(G.a,{children:[Object(q.jsx)(h.a,{variant:"contained",color:"error",onClick:function(){return ge(!1)},children:"Close"}),Object(q.jsx)(h.a,{variant:"contained",disabled:!Re,color:"primary",onClick:function(){De.orderId=ke;var e=0,t=[];console.log(De.courierPartner,"shipProcessFormdddd");var n=X.filter((function(e){return e._id===ke}));n[0].orderProducts.forEach((function(n){t.push(n.quantity*Number(n.amount)),e=t.reduce((function(e,t){return e+t}),0)}));var i={consignments:[{customer_code:"GL112",reference_number:n[0].orderId,service_type_id:"GROUND EXPRESS",load_type:"NON-DOCUMENT",description:"sample",cod_favor_of:"In Favour of",cod_collection_mode:"cash",consignment_type:"Forward",dimension_unit:"cm",length:n[0].dimension1,width:n[0].dimension2,height:n[0].dimension3,weight_unit:"kg",weight:n[0].weightFd/1e3,declared_value:"2299",cod_amount:e,num_pieces:n[0].orderProducts.length,commodity_id:"Others",customer_reference_number:n[0].customOrderId,is_risk_surcharge_applicable:!1,origin_details:{name:n[0].shippingAddress.firstName+n[0].shippingAddress.lastName,phone:n[0].shippingAddress.phoneno,alternate_phone:n[0].shippingAddress.phoneno,address_line_1:n[0].shippingAddress.address,address_line_2:n[0].shippingAddress.addressOptional,pincode:n[0].shippingAddress.pincode,city:n[0].shippingAddress.city,state:n[0].shippingAddress.state},destination_details:{name:n[0].billingAddress.bfirstName+n[0].billingAddress.blastName,phone:n[0].billingAddress.bphoneno,alternate_phone:n[0].billingAddress.bphoneno,address_line_1:n[0].billingAddress.baddress,address_line_2:n[0].billingAddress.baddressOptional,pincode:n[0].billingAddress.bpincode,city:n[0].billingAddress.bcity,state:n[0].billingAddress.bstate},pieces_detail:[{description:"WESTERN DIGITAL 1 TB EXTERNAL HDD",declared_value:"2299",weight:"0.15",height:"8",length:"8",width:"10"}]}]};console.log(i,"obj");try{var r={method:"POST",headers:{"Content-Type":"application/json","api-key":"a50283ab7acb25f2301d520a9a589c"},body:JSON.stringify(i)};fetch("https://demodashboardapi.shipsy.in/api/customer/integration/consignment/softdata",r).then((function(e){return e.json()})).then((function(e){console.log(e,"data")}))}catch(a){console.error(a)}},children:"Ship"})]})]})})]})}}}]);
//# sourceMappingURL=23.bd7dcdc7.chunk.js.map