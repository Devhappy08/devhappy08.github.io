(this["webpackJsonpecommerce-logistic"]=this["webpackJsonpecommerce-logistic"]||[]).push([[21],{313:function(e,t,n){"use strict";var i=n(75),a=n.n(i),r=("production"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STAGE?{apiUrl:"https://ysosy-backend.herokuapp.com/api/"}:(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STAGE,{apiUrl:"https://ysosy-backend.herokuapp.com/api/",aadharTestRequest:"https://test.zoop.one/in/identity/okyc/otp/request",aadharLiveRequest:"https://live.zoop.one/in/identity/okyc/otp/request",aadharOtpVerifyRequest:"https://test.zoop.one/in/identity/okyc/otp/verify"})).apiUrl,c={"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},s={register:function(e){return a.a.post("".concat(r,"vendorLogReg/signup"),e)},vendorLogin:function(e){return a.a.post("".concat(r,"vendorLogReg/login"),e)},vendorForgotPassword:function(e){return a.a.post("".concat(r,"vendorLogReg/forgot-password"),e)},setNewPassword:function(e){return a.a.post("".concat(r,"vendorLogReg/set-password"),e)},getVendorProfileDetail:function(){return a.a.get("".concat(r,"vendorLogReg/loggedVendor"))},vendorProfileUpdate:function(e){return a.a.put("".concat(r,"vendors/editVendorProfile"),e)},getAllShippingOrderData:function(){return a.a.get("".concat(r,"shippingOrders/all"))},getshippingOrderViewDetails:function(e){return a.a.get("".concat(r,"shippingOrders/getShippingOrderById/").concat(e))},checkPinCodes:function(e){return a.a.get("https://api.postalpincode.in/pincode/".concat(e),{headers:c})},createShippingOrder:function(e){return a.a.post("".concat(r,"shippingOrders/new"),e)},cloneShippingOrder:function(e){return a.a.put("".concat(r,"shippingOrders/cloneShippingOrder/").concat(e))},cancelShippingOrder:function(e){return a.a.put("".concat(r,"shippingOrders/cancelShippingOrder/").concat(e))},updateShippingOrder:function(e,t){return a.a.put("".concat(r,"shippingOrders/editShippingOrder/").concat(e),t)}};t.a=s},566:function(e,t,n){"use strict";n.r(t);var i=n(4),a=n(11),r=n(91),c=n(13),s=n(64),l=n.n(s),o=n(0),d=n(18),u=n(90),j=n(22),p=n(290),h=n(296),b=n(272),O=n(283),g=n(297),v=n(374),m=n(545),f=n(546),x=n(547),A=n(548),y=n(549),_=n(373),S=n(550),P=n(284),C=n(87),k=n(309),D=n(287),T=n(280),E=n(313),w=n(320),R=n.n(w),N=n(123),I=n(579),W=n(581),F=n(580),z=n(559),H=n(326),L=n.n(H),U=n(325),B=n.n(U),G=n(564),K=n(565),M=n(573),q=n(551),V=n(544),Y=n(1);t.default=function(){var e=Object(j.a)(),t=Object(d.g)(),n=Object(o.useState)([]),s=Object(c.a)(n,2),w=s[0],H=s[1],U=Object(o.useState)([]),X=Object(c.a)(U,2),J=(X[0],X[1]),Q=Object(o.useState)([]),Z=Object(c.a)(Q,2),$=Z[0],ee=Z[1],te=Object(o.useState)([]),ne=Object(c.a)(te,2),ie=(ne[0],ne[1]),ae=Object(o.useState)([]),re=Object(c.a)(ae,2),ce=re[0],se=re[1],le=Object(o.useState)([]),oe=Object(c.a)(le,2),de=(oe[0],oe[1]),ue=Object(o.useState)([null,null]),je=Object(c.a)(ue,2),pe=je[0],he=je[1],be=Object(o.useState)(),Oe=Object(c.a)(be,2),ge=Oe[0],ve=Oe[1],me=Object(o.useState)("All"),fe=Object(c.a)(me,2),xe=fe[0],Ae=fe[1],ye=Object(o.useState)("All"),_e=Object(c.a)(ye,2),Se=_e[0],Pe=_e[1],Ce=Object(o.useState)("All"),ke=Object(c.a)(Ce,2),De=ke[0],Te=ke[1],Ee=Object(o.useState)(!0),we=Object(c.a)(Ee,2),Re=we[0],Ne=we[1];Object(b.a)(e.breakpoints.down("md"));Object(o.useEffect)((function(){Ie()}),[]);var Ie=function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.getAllShippingOrderData();case 3:t=e.sent,n=[],i=[],ee(t.data),t.data.forEach((function(e){var t,a,r,c,s,l,o=[],d=0;e.orderProducts.forEach((function(e){o.push(e.product),i.push(e.quantity*Number(e.amount)),d=i.reduce((function(e,t){return e+t}),0)})),n.push({channel:null!==e&&void 0!==e&&e.channel?null===e||void 0===e?void 0:e.channel:"custom",orderId:null===e||void 0===e?void 0:e.orderId,date:R()(null===e||void 0===e?void 0:e.createdAt).format("MMM D, YYYY"),product:o.join(", "),payment:d,method:null===e||void 0===e?void 0:e.orderType,customer:null!==e&&void 0!==e&&e.shippingAddress?(null===e||void 0===e||null===(t=e.shippingAddress)||void 0===t?void 0:t.firstName)+(null===e||void 0===e||null===(a=e.shippingAddress)||void 0===a?void 0:a.lastName):(null===e||void 0===e||null===(r=e.shippingAddress)||void 0===r?void 0:r.firstName)+(null===e||void 0===e||null===(c=e.shippingAddress)||void 0===c?void 0:c.lastName),zipcode:null!==e&&void 0!==e&&e.shippingAddress?null===e||void 0===e||null===(s=e.shippingAddress)||void 0===s?void 0:s.pincode:null===e||void 0===e||null===(l=e.shippingAddress)||void 0===l?void 0:l.pincode,weight:null===e||void 0===e?void 0:e.weightFd,ivrStatus:null===e||void 0===e?void 0:e.ivr_status,tags:null===e||void 0===e?void 0:e.tags,status:null===e||void 0===e?void 0:e.status,_id:null===e||void 0===e?void 0:e._id})})),H(n),J(n),de(n),We(n),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),Object(N.notifier)({type:"error",message:e.t0.error,autoDismissTimeout:5e3});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),We=function(e){var t=[];t.all=e.length,t.booked=e.filter((function(e){return"Booked"===e.status})).length,t.ship=e.filter((function(e){return"Ship"===e.status})).length,t.pendingpickup=e.filter((function(e){return"pendingpickup"===e.status})).length,t.intransit=e.filter((function(e){return"intransit"===e.status})).length,t.outfordelivery=e.filter((function(e){return"outfordelivery"===e.status})).length,t.Delivered=e.filter((function(e){return"Delivered"===e.status})).length,t.Cancelled=e.filter((function(e){return"Cancelled"===e.status})).length,ie(t)},Fe=Object(o.useState)(!1),ze=Object(c.a)(Fe,2),He=ze[0],Le=ze[1],Ue=Object(o.useState)("paper"),Be=Object(c.a)(Ue,2),Ge=Be[0],Ke=Be[1],Me=Object(o.useState)(""),qe=Object(c.a)(Me,2),Ve=qe[0],Ye=qe[1],Xe=[{id:"1",name:"Nayan Patil",isDefault:!0},{id:"2",name:"Nitin Patil",isDefault:!1}],Je=[{id:"1",name:"Nayan Patil",isDefault:!0},{id:"2",name:"Nitin Patil",isDefault:!1}],Qe=Object(o.useState)({orderId:"",wareHousePickupAddress:"",rtoWareHouseAddress:"",essentialItem:!1,dangerousGood:!1,courierPartner:""}),Ze=Object(c.a)(Qe,2),$e=Ze[0],et=Ze[1],tt=$e.wareHousePickupAddress,nt=$e.rtoWareHouseAddress,it=$e.essentialItem,at=$e.dangerousGood,rt=$e.courierPartner,ct=function(){var e=Xe.filter((function(e){return!0===e.isDefault})),t=Je.filter((function(e){return!0===e.isDefault}));et(Object(a.a)(Object(a.a)({},$e),{},{wareHousePickupAddress:e[0].id,rtoWareHouseAddress:t[0].id}))},st=[{id:"1",name:"DTDC Air (\u20b9117)"},{id:"2",name:"DTDC Premium (\u20b9108.2)"},{id:"3",name:"Xpressbees Surface (\u20b9108.74)"},{id:"4",name:"Xpressbees 1 K.G (\u20b9131)"}],lt=function(e){e.target.checked&&"essentialItem"===e.target.name&&et(Object(a.a)(Object(a.a)({},$e),{},Object(i.a)({},e.target.name,!0))),e.target.checked&&"dangerousGood"===e.target.name&&et(Object(a.a)(Object(a.a)({},$e),{},Object(i.a)({},e.target.name,!0)))};return Object(Y.jsxs)(u.a,{title:"Manage Manifest",children:[Object(Y.jsxs)(p.a,{sx:{width:"100%"},children:[Object(Y.jsx)("div",{style:{marginBottom:16,float:"right"},children:Object(Y.jsx)(h.a,{variant:"outlined",onClick:function(){Ne(!Re)},children:Re?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(B.a,{})," Close"]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(L.a,{})," Filter"]})})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Re?Object(Y.jsxs)(O.a,{container:!0,spacing:2,children:[Object(Y.jsx)(O.a,{item:!0,xs:3,children:Object(Y.jsx)(G.a,{dateAdapter:M.a,children:Object(Y.jsx)(p.a,{children:Object(Y.jsx)(K.a,{startText:"From Date",endText:"End Date",value:pe,onChange:function(e){he(e)},renderInput:function(e,t){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(g.a,Object(a.a)(Object(a.a)({},e),{},{size:"small"})),Object(Y.jsx)(p.a,{sx:{mx:1},children:"to"}),Object(Y.jsx)(g.a,Object(a.a)(Object(a.a)({},t),{},{size:"small"}))]})}})})})}),Object(Y.jsx)(O.a,{item:!0,xs:1.5,children:Object(Y.jsx)(g.a,{id:"outlined-pickupid-basic",size:"small",name:"pickupId",value:ge,onChange:function(e){return ve(e.target.value)},fullWidth:!0,label:"Pickup Id",variant:"outlined"})}),Object(Y.jsx)(O.a,{item:!0,xs:2,children:Object(Y.jsxs)(g.a,{id:"outlined-select-ordertype",select:!0,label:"Type",name:"type",value:xe,onChange:function(e){return Ae(e.target.value)},fullWidth:!0,size:"small",variant:"outlined",children:[Object(Y.jsx)(v.a,{value:"All",children:"All"}),Object(Y.jsx)(v.a,{value:"cashOnDelivery",children:"Cash on Delivery"}),Object(Y.jsx)(v.a,{value:"Prapaid",children:"Prepaid"})]})}),Object(Y.jsx)(O.a,{item:!0,xs:1.5,children:Object(Y.jsxs)(g.a,{id:"outlined-select-ordertype",select:!0,label:"Courier",name:"courier",value:Se,onChange:function(e){return Pe(e.target.value)},fullWidth:!0,size:"small",variant:"outlined",children:[Object(Y.jsx)(v.a,{value:"All",children:"All"}),Object(Y.jsx)(v.a,{value:"cashOnDelivery",children:"Cash on Delivery"}),Object(Y.jsx)(v.a,{value:"Prapaid",children:"Prepaid"})]})}),Object(Y.jsx)(O.a,{item:!0,xs:1.5,children:Object(Y.jsxs)(g.a,{id:"outlined-select-ordertype",select:!0,label:"Warehouse",name:"warehouse",value:De,onChange:function(e){return Te(e.target.value)},fullWidth:!0,size:"small",variant:"outlined",children:[Object(Y.jsx)(v.a,{value:"All",children:"All"}),Object(Y.jsx)(v.a,{value:"cashOnDelivery",children:"Cash on Delivery"}),Object(Y.jsx)(v.a,{value:"Prapaid",children:"Prepaid"})]})}),Object(Y.jsxs)(O.a,{item:!0,xs:2.5,children:[Object(Y.jsx)(h.a,{variant:"contained",color:"success",onClick:function(){console.log("Hello1",pe,ge,xe,Se,De)},size:"small",style:{marginRight:"5px"},children:"Apply"}),Object(Y.jsx)(h.a,{variant:"contained",color:"error",onClick:function(){console.log("clear"),he(""),ve(""),Ae("All"),Pe("All"),Te("All")},size:"small",children:"Clear"})]})]}):"",Object(Y.jsx)("br",{}),Object(Y.jsx)("hr",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(m.a,{children:Object(Y.jsxs)(f.a,{"aria-label":"customized table",children:[Object(Y.jsx)(x.a,{children:Object(Y.jsxs)(A.a,{children:[Object(Y.jsx)(y.a,{align:"center",children:Object(Y.jsx)(_.a,{indeterminate:ce.length>0&&ce.length<w.length,checked:w.length>0&&ce.length===w.length,onChange:function(e){if(e.target.checked){var t=w.map((function(e){return e._id}));se(t)}else se([])},inputProps:{"aria-label":"select all desserts"}})}),Object(Y.jsx)(y.a,{align:"center",children:"MANIFEST ID"}),Object(Y.jsx)(y.a,{align:"center",children:"CREATED"}),Object(Y.jsx)(y.a,{align:"center",children:"COURIER"}),Object(Y.jsx)(y.a,{align:"center",children:"NUMBER OF ORDERS"}),Object(Y.jsx)(y.a,{align:"center",children:"STATUS"}),Object(Y.jsx)(y.a,{align:"center",children:"WAREHOUSE"}),Object(Y.jsx)(y.a,{align:"center",children:"PICKUP REF. NO"}),Object(Y.jsx)(y.a,{align:"center",children:"DOWNLOAD"})]})}),Object(Y.jsx)(S.a,{children:w.map((function(e,n){var i,a=(i=e._id,-1!==ce.indexOf(i)),r="enhanced-table-checkbox-".concat(n);return Object(Y.jsxs)(A.a,{onClick:function(){return function(e){var t=ce.indexOf(e),n=[];-1===t?n=n.concat(ce,e):0===t?n=n.concat(ce.slice(1)):t===ce.length-1?n=n.concat(ce.slice(0,-1)):t>0&&(n=n.concat(ce.slice(0,t),ce.slice(t+1))),se(n)}(e._id)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(Y.jsx)(y.a,{align:"center",children:"Cancelled"!==e.status&&"Booked"!==e.status&&Object(Y.jsx)(_.a,{checked:a,inputProps:{"aria-labelledby":r}})}),Object(Y.jsx)(y.a,{component:"th",scope:"row",align:"center",children:e.channel}),Object(Y.jsx)(y.a,{align:"center",children:e.orderId?Object(Y.jsx)(h.a,{onClick:function(){return n=e._id,void t("/order-details/".concat(n));var n},children:e.orderId}):"-"}),Object(Y.jsx)(y.a,{align:"center",children:e.date}),Object(Y.jsx)(y.a,{align:"center",children:e.product?e.product:"-"}),Object(Y.jsx)(y.a,{align:"center",children:e.payment}),Object(Y.jsx)(y.a,{align:"center",children:e.method}),Object(Y.jsx)(y.a,{align:"center",children:e.customer}),Object(Y.jsx)(y.a,{align:"center",children:e.zipcode}),Object(Y.jsx)(y.a,{align:"center",children:e.weight}),Object(Y.jsx)(y.a,{align:"center",children:"Cancelled"===e.status?Object(Y.jsx)(P.a,{label:e.status,color:"primary",variant:"outlined"}):Object(Y.jsx)(P.a,{label:e.status,color:"primary",variant:"outlined",onClick:function(){return t=e._id,Ye(t),Le(!0),Ke("paper"),void ct();var t}})})]},e._id)}))}),Object(Y.jsx)(q.a,{children:Object(Y.jsx)(A.a,{children:Object(Y.jsx)(V.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:12,count:50,rowsPerPage:10,page:0,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0}})})})]})})]}),Object(Y.jsx)(p.a,{children:Object(Y.jsxs)(I.a,{open:He,onClose:function(){return Le(!1)},scroll:Ge,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(Y.jsx)(z.a,{id:"scroll-dialog-title",style:{fontSize:"1.5em"},children:"Ship Your Package Now"}),Object(Y.jsxs)(F.a,{dividers:"paper"===Ge,children:[Object(Y.jsxs)(O.a,{style:{display:"flex",marginTop:"5%",marginBottom:"5%",width:500},children:[Object(Y.jsxs)(O.a,{item:!0,xs:6,style:{marginRight:20},children:[Object(Y.jsx)(C.a,{variant:"h5",children:"Pickup Warehouse"}),Object(Y.jsx)(g.a,{id:"outlined-select-ordertype",select:!0,label:"Pickup Warehouse Address",name:"wareHousePickupAddress",value:tt,onChange:function(e){return et(Object(a.a)(Object(a.a)({},$e),{},Object(i.a)({},e.target.name,e.target.value)))},fullWidth:!0,size:"small",margin:"normal",variant:"outlined",children:null===Xe||void 0===Xe?void 0:Xe.map((function(e,t){return Object(Y.jsxs)(v.a,{value:e.id,children:[e.name," ",!0===e.isDefault?"(Default)":""]},t+1)}))}),Object(Y.jsx)(k.a,{control:Object(Y.jsx)(_.a,{name:"essentialItem",checked:it,onChange:function(e){return lt(e)}}),label:"Is essential item ?"})]}),Object(Y.jsxs)(O.a,{item:!0,xs:6,children:[Object(Y.jsx)(C.a,{variant:"h5",children:"RTO Warehouse"}),Object(Y.jsx)(g.a,{id:"outlined-select-ordertype",select:!0,label:"RTO Warehouse",name:"rtoWareHouseAddress",value:nt,onChange:function(e){return et(Object(a.a)(Object(a.a)({},$e),{},Object(i.a)({},e.target.name,e.target.value)))},fullWidth:!0,size:"small",margin:"normal",variant:"outlined",children:null===Je||void 0===Je?void 0:Je.map((function(e,t){return Object(Y.jsxs)(v.a,{value:e.id,children:[e.name," ",!0===e.isDefault?"(Default)":""]},t+1)}))}),Object(Y.jsx)(k.a,{control:Object(Y.jsx)(_.a,{name:"dangerousGood",checked:at,onChange:function(e){return lt(e)}}),label:"Is dangerous good ?"})]})]}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(O.a,{style:{display:"flex",marginTop:"5%",marginBottom:"5%",width:500},children:Object(Y.jsx)(D.a,{row:!0,"aria-label":"courier-partner",value:rt,name:"courierPartner",onChange:function(e){return et(Object(a.a)(Object(a.a)({},$e),{},Object(i.a)({},e.target.name,e.target.value)))},children:null===st||void 0===st?void 0:st.map((function(e,t){return Object(Y.jsx)(O.a,{item:!0,xs:6,children:Object(Y.jsx)(k.a,{value:e.id,control:Object(Y.jsx)(T.a,{}),label:e.name})},t+1)}))})})]}),Object(Y.jsxs)(W.a,{children:[Object(Y.jsx)(h.a,{variant:"contained",color:"error",onClick:function(){return Le(!1)},children:"Close"}),Object(Y.jsx)(h.a,{variant:"contained",disabled:!rt,color:"primary",onClick:function(){$e.orderId=Ve;var e=0,t=[];console.log($e.courierPartner,"shipProcessFormdddd");var n=$.filter((function(e){return e._id===Ve}));n[0].orderProducts.forEach((function(n){t.push(n.quantity*Number(n.amount)),e=t.reduce((function(e,t){return e+t}),0)}));var i={consignments:[{customer_code:"GL112",reference_number:n[0].orderId,service_type_id:"GROUND EXPRESS",load_type:"NON-DOCUMENT",description:"sample",cod_favor_of:"In Favour of",cod_collection_mode:"cash",consignment_type:"Forward",dimension_unit:"cm",length:n[0].dimension1,width:n[0].dimension2,height:n[0].dimension3,weight_unit:"kg",weight:n[0].weightFd/1e3,declared_value:"2299",cod_amount:e,num_pieces:n[0].orderProducts.length,commodity_id:"Others",customer_reference_number:n[0].customOrderId,is_risk_surcharge_applicable:!1,origin_details:{name:n[0].shippingAddress.firstName+n[0].shippingAddress.lastName,phone:n[0].shippingAddress.phoneno,alternate_phone:n[0].shippingAddress.phoneno,address_line_1:n[0].shippingAddress.address,address_line_2:n[0].shippingAddress.addressOptional,pincode:n[0].shippingAddress.pincode,city:n[0].shippingAddress.city,state:n[0].shippingAddress.state},destination_details:{name:n[0].billingAddress.bfirstName+n[0].billingAddress.blastName,phone:n[0].billingAddress.bphoneno,alternate_phone:n[0].billingAddress.bphoneno,address_line_1:n[0].billingAddress.baddress,address_line_2:n[0].billingAddress.baddressOptional,pincode:n[0].billingAddress.bpincode,city:n[0].billingAddress.bcity,state:n[0].billingAddress.bstate},pieces_detail:[{description:"WESTERN DIGITAL 1 TB EXTERNAL HDD",declared_value:"2299",weight:"0.15",height:"8",length:"8",width:"10"}]}]};console.log(i,"obj");try{var a={method:"POST",headers:{"Content-Type":"application/json","api-key":"a50283ab7acb25f2301d520a9a589c"},body:JSON.stringify(i)};fetch("https://demodashboardapi.shipsy.in/api/customer/integration/consignment/softdata",a).then((function(e){return e.json()})).then((function(e){console.log(e,"data")}))}catch(r){console.error(r)}},children:"Ship"})]})]})})]})}}}]);
//# sourceMappingURL=21.17198b62.chunk.js.map